class ProjectTest is subclass of Test
types
-- TODO Define types here
values
-- TODO Define values here
instance variables
	proj: Project := new Project("name", 5, {<ambassador> |-> 1, <speaker> |-> 4}, {<ambassador> |-> 1000, <speaker> |-> 500}, {<tech>}, 20);
	brand: Brand := new Brand("name");
	c1: Celebrity := new Celebrity("name", {<tech>}, 10, 30, {<speaker>}, 5); -- Celebrity that fits all requirements
	c2: Celebrity := new Celebrity("name", {<tech>}, 10, 30, {<productPlacement>}, 5); -- Celebrity that only fits category requirement
	c3: Celebrity := new Celebrity("name", {<sport>}, 10, 30, {<speaker>}, 5); -- Celebrity that only fits role requirement
	c4: Celebrity := new Celebrity("name", {<sport>}, 10, 30, {<productPlacement>}, 5); -- Celebrity that doesn't fit requirements
	c5: Celebrity := new Celebrity("name", {<tech>}, 10, 10, {<speaker>}, 5); -- Celebrity that has smaller maximum period
	c6: Celebrity := new Celebrity("name", {<tech>}, 5000, 30, {<speaker>}, 5); -- Celebrity that has bigger minimum price
	c7: Celebrity := new Celebrity("name", {<tech>}, 10, 30, {<speaker>}, 1); -- Celebrity that already has contracts filled
	cont1: Contract;
	cont2: Contract;
	cont3: Contract;
	cont4: Contract;
	cont5: Contract;
	
-- TODO Define instance variables here
operations
	public testCreateProject: () ==> ()
		testCreateProject() == 
		(
			dcl p: Project := new Project("name", 5, {<ambassador> |-> 1, <speaker> |-> 4}, {<ambassador> |-> 1000, <speaker> |-> 500}, {<tech>}, 20);
			assert(p.getName() = "name");
			assert(p.getContracts() = {});
			assert(p.getNumContracts() = 0);
			assert(p.getMaxNumContracts() = 5);
			assert(p.getDesiredNumPerRole() = {<ambassador> |-> 1, <speaker> |-> 4});
			assert(p.getDesiredRoles() = {<ambassador>, <speaker>});
			assert(p.getDesiredNumForRole(<ambassador>) = 1);
			assert(p.getDesiredNumForRole(<speaker>) = 4);
			assert(p.getTotalNumDesiredRoles() = 5);
			assert(p.getBudgetPerRole() = {<ambassador> |-> 1000, <speaker> |-> 500});
			assert(p.getMaxPriceForRole(<ambassador>) = 1000);
			assert(p.getMaxPriceForRole(<speaker>) = 500);
			assert(p.getBudgetedRoles() = {<ambassador>, <speaker>});
			assert(p.getTotalNumBudgetedRoles() = 2);
			assert(p.getDesiredCelebTypes() = {<tech>});
			assert(p.getDuration() = 20);
			assert(p.getDesiredNumForRole(<productPlacement>) = 0);
			assert(p.getMaxPriceForRole(<productPlacement>) = 0);
		);
		
	public testSearchCelebs: () ==> ()
		testSearchCelebs() ==
		(		
			dcl celebs: set of Celebrity := {};
			assert(proj.getAppropriateCelebs(celebs) = {});
			
			celebs := {c1,c2,c3,c4};
			assert(proj.getAppropriateCelebs(celebs) = {c1});
		);
		
	public testProposeContract: () ==> ()
		testProposeContract() == 
		(
			-- project to make contract to fill up c4's contracts
			dcl proj2: Project := new Project("name2", 5, {<ambassador> |-> 1, <speaker> |-> 4}, {<ambassador> |-> 1000, <speaker> |-> 500}, {<tech>}, 20);
			brand.addProject(proj);
			brand.addProject(proj2);

			
			cont1 := new Contract(proj.getDuration(), brand, proj, c1, 1000, mk_Globals`Date(2016,1,1), <speaker>);
			cont2 := new Contract(proj.getDuration(), brand, proj, c5, 1000, mk_Globals`Date(2016,1,1), <speaker>);
			cont3 := new Contract(proj.getDuration(), brand, proj, c6, 1000, mk_Globals`Date(2016,1,1), <speaker>);
			cont4 := new Contract(proj.getDuration(), brand, proj, c7, 1000, mk_Globals`Date(2016,1,1), <speaker>);
			cont5 := new Contract(proj.getDuration(), brand, proj2, c7, 1000, mk_Globals`Date(2016,1,1), <speaker>);			

			assert(proj.proposeContract(cont1, c1) = true);
			assert(proj2.proposeContract(cont5,c7) = true); -- fill up c4's contract slots
			assert(proj.proposeContract(cont2, c5) = false);
			assert(proj.proposeContract(cont3, c6) = false);
			assert(proj.proposeContract(cont4, c7) = false);
		);
functions
-- TODO Define functiones here
traces
-- TODO Define Combinatorial Test Traces here
end ProjectTest